<!-- DO NOT EDIT -->
<!-- This file is automatically generated by README.ts. -->
<!-- Edit README.ts if you want to make changes. -->

# Helper macros for definind a vector of enum values

A simple crate for creating typed vector wrappers around enums.

This crate provides macros that help define a transparent wrapper around a `Vec<EnumType>`,
automatically implementing useful traits and conversion functions for ergonomic use.

## Examples

```rust
use derive_more::{Constructor, From};
use serde::{Deserialize, Serialize};

// Define some sample action structs
#[derive(Constructor, Serialize, Deserialize)]
pub struct SignUpAction {
    username: String,
    password: String,
}

#[derive(Constructor, Serialize, Deserialize)]
pub struct SendMessageAction {
    from: String,
    to: String,
    text: String,
}

// Define an enum that can contain any action
#[derive(From, Serialize, Deserialize)]
pub enum Action {
    SignUp(SignUpAction),
    SendMessage(SendMessageAction),
}

// Convenience conversion
impl From<(&str, &str)> for Action {
    fn from((username, password): (&str, &str)) -> Self {
        Self::SignUp(SignUpAction::new(username.into(), password.into()))
    }
}

// Define a typed vector wrapper for Actions
vec_of_enum::define!(
    #[derive(Serialize, Deserialize)]
    pub struct ActionVec(Vec<Action>);
);

// Define a typed vector wrapper that also automatically converts from variant types
vec_of_enum::define!(
    #[derive(Serialize, Deserialize)]
    pub struct ActionVecWithVariants(Vec<Action>);
    variants = [SignUpAction, SendMessageAction];
);

// Usage
let mut actions = ActionVec::default();
// No need to call Action::from
actions.push(SignUpAction::new("alice".into(), "qwerty".into()));
// Even shorter if you have `impl From<(&str, &str)> for Action`
actions.push(("alice", "qwerty"));
```

## Features

The wrapper struct created using the `define!` macro:

* Is `#[repr(transparent)]` for zero-cost abstraction
* Implements `Deref` and `DerefMut` to `Vec<T>` for access to all Vec methods
* Provides `new()`, `push()`, and `extend_from()` methods
* Implements `Default`, `Extend`, `IntoIterator`, `From<Vec<T>>`, and `Into<Vec<T>>`
* Supports automatic conversions from variant types when using the `variants = [...]` option

## Custom Derives

You can add any derive macros to your struct definition, and they will be applied to
the generated struct. For example:

```rust
use serde::{Deserialize, Serialize};

#[derive(Serialize, Deserialize, Debug, Clone, PartialEq)]
pub enum MyEnum {}

vec_of_enum::define!(
    #[derive(Serialize, Deserialize, Debug, Clone, PartialEq)]
    pub struct MyVec(Vec<MyEnum>);
);
```

This allows you to add any necessary derives that your application requires.

```rust
```

## Installation

```shell
cargo add vec-of-enum
```

## Gratitude

Like the project? [‚≠ê Star this repo](https://github.com/DenisGorbachev/vec-of-enum) on GitHub!
